meta {
  name: View all pieces
  type: http
  seq: 1
}

get {
  url: https://localhost/machine/status/piece
  body: none
  auth: bearer
}

auth:bearer {
  token: eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxIiwiZW1haWwiOiJhZG1pbkBleGFtcGxlLmNvbSIsInJvbGUiOiJhZG1pbiIsImV4cCI6MTc2MTU5ODU0MH0.aWj0-qDhtlNrfzJK97UklvrvdotydWZUNznxVq4XE1qbQXyxpp2ZTt7DbWMVjbB66NtgjTrpxft8ZTVX2g2SSN5MMXERo5saUlhgWsEU_OAfLcM5Q0I3u4EYiF7v2SwAaaPS6PZ7YMeltxF4wX1AmDTyu1J0d26HA3e6eC6RtpjeppKvQLc2rkbNyojRmbpKKdmfV8QsQluNJHacJIJ4mZqpxsM5mUbw5DRtgWLC2w5PPb7sHKEewUcuVtnFPq74h-3SJsTjSRH8I9FpH-iijps7HvdtRMJEPVhCvjoAw_6xthk2LcZiMROx2ocdR6VjOcu0HAxlpu55OP654xJBcw
}

vars:post-response {
  pieceId: res('[0].id')
}

assert {
  res.status: eq 200
  res.body: isArray
}

settings {
  encodeUrl: true
  timeout: 0
}
